---
import '../styles/global.css';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{title}</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  </head>
  <body class="flex flex-col min-h-screen">
    <slot name="header">
      <Header />
    </slot>
    
    <main class="flex-1">
      <slot />
    </main>
    
    <slot name="footer">
      <Footer />
    </slot>
    
    <!-- Floating CTA Button (visible on scroll) -->    <div id="floating-cta" class="fixed bottom-6 right-6 opacity-0 translate-y-10 transition-all duration-300 z-40">
      <a 
        href="/book-personalised-call" 
        class="flex items-center bg-brand-primary text-white font-bold px-6 py-3 rounded-full shadow-lg hover:bg-brand-primary/90 transition-colors"
      >
        <span>Book a Personalised Call</span>
      </a>
    </div>

    <script>
      // Show floating CTA after scrolling
      const floatingCta = document.getElementById('floating-cta');
      if (floatingCta) {
        window.addEventListener('scroll', () => {
          if (window.scrollY > 300) {
            floatingCta.classList.remove('opacity-0', 'translate-y-10');
          } else {
            floatingCta.classList.add('opacity-0', 'translate-y-10');
          }
        });
      }
    </script>
  </body>
</html>
---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';

const leaveFeatures = [
  {
    image: `${import.meta.env.SITE || ''}/images/Leaves/myLeaves.png`,
    title: 'Streamlined Leave Requests',
    desc: 'Employees can easily submit leave requests, view their leave balances, and track the status of their applications in real-time. A simple interface for managing personal time off.',
    accent: 'from-teal-400 to-teal-600',
  },
  {
    image: `${import.meta.env.SITE || ''}/images/Leaves/leaveCalender.png`,
    title: 'Comprehensive Team Calendar',
    desc: 'Managers get a clear overview of team schedules with an interactive leave calendar. Plan resources effectively, avoid clashes, and approve requests with full visibility.',
    accent: 'from-cyan-400 to-cyan-600',
  },
  {
    image: `${import.meta.env.SITE || ''}/images/Leaves/leaveConfiguration.png`,
    title: 'Flexible Leave Policies',
    desc: 'Configure diverse leave types, accrual rules, and approval workflows to match your organization\'s specific policies. Tailor the system to your unique operational needs.',
    accent: 'from-sky-400 to-sky-600',
  },
];
---

<BaseLayout title="Leave Management - Screen HRM">
  <Header slot="header" />
  <section class="bg-gradient-to-b from-[#eaf0ff] via-[#f4f7fe] to-[#eaf0ff] py-12 min-h-screen">
    <div class="container mx-auto px-2 md:px-4 max-w-[1800px]">
      <h1 class="text-4xl md:text-6xl font-extrabold text-brand-dark mb-16 text-center">
        Leave Management Module
      </h1>
      <div class="flex flex-col gap-16 md:gap-24">
        {leaveFeatures.map((feature, idx) => (
          <div class="md:relative" key={idx}>
            {/* Mobile view - completely stacked */}
            <div class="flex flex-col md:hidden">
              {/* Mobile title */}
              <h2 class="text-2xl font-bold text-brand-primary text-center mb-4">{feature.title}</h2>
              
              {/* Mobile image */}
              <div class="w-full mb-4">
                <img
                  src={feature.image}
                  alt={feature.title}
                  class="w-full rounded-xl shadow-lg border-4 border-white object-contain"
                  loading="lazy"
                />
              </div>
              
              {/* Mobile description */}
              <div class="w-full mb-6 p-5 bg-white rounded-xl shadow-lg border-l-4 border-blue-400">
                <p class="text-base text-gray-700">{feature.desc}</p>
              </div>
            </div>
            
            {/* Desktop view - UNCHANGED */}
            <div class={`hidden md:flex md:flex-row ${idx % 2 === 1 ? 'md:flex-row-reverse' : ''} items-center`}>
              <div class="relative w-full flex justify-center transition-transform duration-300 hover:scale-[1.02]">
                <div class="w-full max-w-7xl">
                  <img
                    src={feature.image}
                    alt={feature.title}
                    class="w-full rounded-3xl shadow-2xl border-4 border-white object-contain transition-all duration-300"
                    loading="lazy"
                  />
                </div>
                
                {/* Desktop overlay text - UNCHANGED from original */}
                <div class="absolute bottom-0 md:left-auto md:right-12 md:bottom-12 md:w-[30%] p-4 md:p-8">
                  <div class="bg-white/90 backdrop-blur-md rounded-2xl shadow-xl border-l-8 border-blue-400 p-6 md:p-10 text-left">
                    <h2 class="text-2xl md:text-4xl font-extrabold mb-3 text-brand-primary">{feature.title}</h2>
                    <p class="text-base md:text-lg text-gray-700">{feature.desc}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
      <div class="text-center mt-12">
        <a href="/modules" class="inline-block bg-brand-primary text-white font-bold px-6 py-3 rounded-lg shadow hover:bg-brand-accent transition text-lg">
          ‚Üê Back to Modules
        </a>
      </div>
    </div>
  </section>
  <Footer slot="footer" />
</BaseLayout>
---
import BaseLayout from '../../layouts/BaseLayout.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';

const steps = [
  {
    image: '/images/attendence/myRecords.png',
    title: 'View and Manage Your Records',
    desc: 'Easily access and review your attendance records. See your daily, weekly, or monthly attendance at a glance, and ensure your records are always up to date.',
    accent: 'from-blue-400 to-blue-600',
  },
  {
    image: '/images/attendence/reports.png',
    title: 'Powerful Attendance Reports',
    desc: 'Generate detailed attendance reports for individuals or teams. Filter by date, employee, or department, and export your data for further analysis.',
    accent: 'from-purple-400 to-purple-600',
  },
  {
    image: '/images/attendence/configuration.png',
    title: 'Flexible Configuration',
    desc: 'Customize attendance settings to match your organization\'s policies. Set up rules for working hours, overtime, and more—all in one place.',
    accent: 'from-green-400 to-green-600',
  },
];
---
<BaseLayout title="Attendance - Screen HRM">
  <Header slot="header" />
  <section class="bg-gradient-to-b from-[#eaf0ff] via-[#f4f7fe] to-[#eaf0ff] py-12 min-h-screen">
    <div class="container mx-auto px-2 md:px-4 max-w-[1800px]">
      <h1 class="text-4xl md:text-6xl font-extrabold text-brand-dark mb-16 text-center">
        Attendance Module
      </h1>
      <div class="flex flex-col gap-16 md:gap-24">
        {steps.map((step, idx) => (
          <div class="md:relative" key={idx}>
            {/* Mobile view - completely stacked */}
            <div class="flex flex-col md:hidden">
              {/* Mobile title */}
              <h2 class="text-2xl font-bold text-brand-primary text-center mb-4">{step.title}</h2>
              
              {/* Mobile image */}
              <div class="w-full mb-4">
                <img
                  src={step.image}
                  alt={step.title}
                  class="w-full rounded-xl shadow-lg border-4 border-white object-contain"
                  loading="lazy"
                />
              </div>
              
              {/* Mobile description */}
              <div class="w-full mb-6 p-5 bg-white rounded-xl shadow-lg border-l-4 border-blue-400">
                <p class="text-base text-gray-700">{step.desc}</p>
              </div>
            </div>
            
            {/* Desktop view - UNCHANGED */}
            <div class={`hidden md:flex md:flex-row ${idx % 2 === 1 ? 'md:flex-row-reverse' : ''} items-center`}>
              <div class="relative w-full flex justify-center transition-transform duration-300 hover:scale-[1.02]">
                <div class="w-full max-w-7xl">
                  <img
                    src={step.image}
                    alt={step.title}
                    class="w-full rounded-3xl shadow-2xl border-4 border-white object-contain transition-all duration-300"
                    loading="lazy"
                  />
                </div>
                {/* Overlayed text */}
                <div class="absolute bottom-0 left-0 right-0 md:left-auto md:right-12 md:bottom-12 md:w-[30%] p-4 md:p-8">
                  <div class="bg-white/90 backdrop-blur-md rounded-2xl shadow-xl border-l-8 border-blue-400 p-6 md:p-10 text-left">
                    <h2 class="text-2xl md:text-4xl font-extrabold mb-3 text-brand-primary">{step.title}</h2>
                    <p class="text-base md:text-lg text-gray-700">{step.desc}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
      <div class="text-center mt-12">
        <a href="/modules" class="inline-block bg-brand-primary text-white font-bold px-6 py-3 rounded-lg shadow hover:bg-brand-accent transition text-lg">
          ← Back to Modules
        </a>
      </div>
    </div>
  </section>
  <Footer slot="footer" />
</BaseLayout>